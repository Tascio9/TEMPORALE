<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORD - 19: Viz</title>
    <link rel="icon" type="image/png" href="./Icons/favicon.ico" />
    <link rel="stylesheet" href="styles.css">
    <!-- Font selected: Oxygen (https://fonts.google.com/specimen/Oxygen?sidebar.open=true&selection.family=Oxygen:wght@300;400;700) -->
    <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- DataTables -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="DataTables/datatables.min.css" />
    <script type="text/javascript" src="DataTables/datatables.min.js"></script>
    <script type="text/javascript"
        src="https://cdn.datatables.net/plug-ins/1.10.21/features/scrollResize/dataTables.scrollResize.min.js"></script>
    <script type="text/javascript"
        src="https://cdn.datatables.net/plug-ins/1.10.22/features/pageResize/dataTables.pageResize.min.js"></script>
    <!-- https://github.com/Silvacom/colResize -->
    <script type="text/javascript" src="js/dataTables.colResize.js"></script>
    <script>
        var dataset = JSON.parse(sessionStorage.getItem("dataset"));
        var hScroll = $(window).height() - 250
        console.log(dataset)
        $(document).ready(function () {
            $('#paperTable').DataTable({
                pageLength: 50,
                lengthMenu: [[25, 50, 100, 200, -1], [25, 50, 100, 200, "All"]],
                dom: 'Zlfrtip',             // Needed to use colResize. See it on index.html
                data: dataset,
                columns: [
                    { data: 'Cord_UID' },
                    {
                        data: 'Title',
                        render: function (data, type, row) {
                            return `<a href="https://www.doi.org/${row.DOI}" target="_blank">${data}</a>`
                        }
                    },
                    {
                        data: 'First_author',
                        render: function (data, type, row) {
                            return `${data} et al .`
                        }
                    },
                    { data: 'Nation' },
                    { data: 'Publish_time' },
                    { data: 'Journal' },
                    { data: 'Classification' }
                ],
                scrollY: "80vh",
                scrollResize: true,
                scrollCollapse: true,
                paging: true
            })
        })
    </script>
</head>

<body>
    <div class="table-div">
        <table id="paperTable" class="display pageResize">
            <thead>
                <tr>
                    <th>Cord UID</th>
                    <th>Title</th>
                    <th>Authors</th>
                    <th>Nation</th>
                    <th>Publish Time</th>
                    <th>Journal</th>
                    <th>Classification</th>
                </tr>
            </thead>
            <tbody>
                <tr></tr>
            </tbody>
        </table>
    </div>
</body>

</html>